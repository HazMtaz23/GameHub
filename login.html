<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - GameHub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles/custom.css">
    
    <!-- Firebase Configuration (Replace with your config) -->
    <script type="module">
        // Import Firebase modules
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        
        // Firebase configuration - REPLACE WITH YOUR ACTUAL CONFIG
        const firebaseConfig = {
            apiKey: "demo-api-key",
            authDomain: "gamehub-demo.firebaseapp.com",
            projectId: "gamehub-demo",
            storageBucket: "gamehub-demo.appspot.com",
            messagingSenderId: "123456789",
            appId: "1:123456789:web:demo123456789"
        };
        
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        window.auth = getAuth(app);
        window.db = getFirestore(app);
        
        // Set auth persistence
        import { setPersistence, browserLocalPersistence } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        setPersistence(window.auth, browserLocalPersistence);
    </script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'game-primary': '#6366f1',
                        'game-secondary': '#8b5cf6',
                        'game-accent': '#ec4899',
                        'neon-blue': '#00f5ff',
                        'neon-purple': '#bf00ff',
                        'neon-pink': '#ff0080',
                        'neon-green': '#39ff14',
                    },
                    animation: {
                        'gradient': 'gradient 8s ease infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-glow': 'pulse-glow 2s ease-in-out infinite alternate',
                        'slide-up': 'slide-up 0.8s ease-out',
                        'bounce-subtle': 'bounce-subtle 2s ease-in-out infinite',
                        'shake': 'shake 0.5s ease-in-out',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gradient-to-br from-gray-900 via-purple-900 to-violet-900 min-h-screen relative overflow-x-hidden">
    <!-- Animated Background Elements -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none z-0">
        <div class="absolute -inset-10 opacity-20">
            <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-r from-neon-blue to-neon-purple rounded-full blur-3xl animate-float"></div>
            <div class="absolute top-3/4 right-1/4 w-80 h-80 bg-gradient-to-r from-neon-pink to-game-accent rounded-full blur-3xl animate-float" style="animation-delay: -3s;"></div>
            <div class="absolute bottom-1/4 left-1/2 w-64 h-64 bg-gradient-to-r from-game-primary to-neon-purple rounded-full blur-3xl animate-float" style="animation-delay: -6s;"></div>
        </div>
        <!-- Floating particles -->
        <div class="absolute inset-0">
            <div class="particle absolute w-2 h-2 bg-white rounded-full opacity-20 animate-bounce-subtle" style="top: 20%; left: 10%; animation-delay: 0s;"></div>
            <div class="particle absolute w-1 h-1 bg-neon-blue rounded-full opacity-30 animate-bounce-subtle" style="top: 60%; left: 80%; animation-delay: 2s;"></div>
            <div class="particle absolute w-1.5 h-1.5 bg-neon-pink rounded-full opacity-25 animate-bounce-subtle" style="top: 80%; left: 20%; animation-delay: 4s;"></div>
            <div class="particle absolute w-1 h-1 bg-game-accent rounded-full opacity-20 animate-bounce-subtle" style="top: 40%; left: 70%; animation-delay: 6s;"></div>
        </div>
    </div>

    <!-- Navigation Header -->
    <nav class="relative z-10 bg-black/30 backdrop-blur-xl border-b border-white/20 shadow-lg shadow-purple-500/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <a href="index.html" class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink animate-gradient hover:scale-105 transition-transform duration-300">🎮 GameHub</a>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="index.html" class="text-gray-300 hover:text-neon-blue px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 hover:bg-white/10 hover:scale-105">Home</a>
                        <a href="index.html#games" class="text-gray-300 hover:text-neon-purple px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 hover:bg-white/10 hover:scale-105">Games</a>
                        <a href="#" class="text-white hover:text-neon-pink px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 hover:bg-white/10 hover:scale-105">Login</a>
                    </div>
                </div>
                <!-- Mobile menu button -->
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-gray-400 hover:text-white focus:outline-none focus:text-white">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile menu -->
        <div id="mobile-menu" class="md:hidden hidden">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-black/30">
                <a href="index.html" class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Home</a>
                <a href="index.html#games" class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Games</a>
                <a href="#" class="text-white block px-3 py-2 rounded-md text-base font-medium">Login</a>
            </div>
        </div>
    </nav>

    <!-- Main Login Section -->
    <div class="relative z-10 min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full space-y-8 animate-slide-up">
            <!-- Login/Register Container -->
            <div class="relative">
                <!-- Glow Effect -->
                <div class="absolute -inset-0.5 bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink rounded-2xl blur opacity-30 animate-pulse-glow"></div>
                
                <!-- Main Form Container -->
                <div class="relative bg-black/40 backdrop-blur-xl rounded-2xl p-8 border border-white/20 shadow-2xl shadow-neon-purple/20">
                    <!-- Header -->
                    <div class="text-center mb-8">
                        <h2 id="form-title" class="text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-neon-blue to-neon-pink animate-gradient">
                            Welcome Back!
                        </h2>
                        <p class="mt-2 text-sm text-gray-300" id="form-subtitle">
                            Sign in to your account or create a new one
                        </p>
                    </div>

                    <!-- Loading State -->
                    <div id="loading-spinner" class="hidden flex justify-center items-center py-8">
                        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-neon-blue"></div>
                        <span class="ml-3 text-gray-300">Connecting to GameHub...</span>
                    </div>

                    <!-- Firebase Auth Form -->
                    <form id="auth-form" class="space-y-6">
                        <div class="space-y-4">
                            <!-- Email Field -->
                            <div class="relative">
                                <label for="email" class="block text-sm font-medium text-gray-300 mb-2">
                                    Email Address
                                </label>
                                <div class="relative">
                                    <input id="email" name="email" type="email" autocomplete="email" required 
                                           class="appearance-none relative block w-full px-3 py-3 border border-white/20 bg-white/10 backdrop-blur-sm text-white rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-neon-blue focus:border-transparent transition-all duration-300 hover:bg-white/15"
                                           placeholder="Enter your email">
                                    <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                        <span class="text-neon-blue opacity-70">�</span>
                                    </div>
                                </div>
                                <div id="email-error" class="hidden text-red-400 text-xs mt-1"></div>
                            </div>

                            <!-- Password Field -->
                            <div class="relative">
                                <label for="password" class="block text-sm font-medium text-gray-300 mb-2">
                                    Password
                                </label>
                                <div class="relative">
                                    <input id="password" name="password" type="password" required 
                                           class="appearance-none relative block w-full px-3 py-3 border border-white/20 bg-white/10 backdrop-blur-sm text-white rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-neon-purple focus:border-transparent transition-all duration-300 hover:bg-white/15"
                                           placeholder="Enter your password">
                                    <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                        <button type="button" id="toggle-password" class="text-neon-purple opacity-70 hover:opacity-100 transition-opacity">
                                            🔒
                                        </button>
                                    </div>
                                </div>
                                <div id="password-error" class="hidden text-red-400 text-xs mt-1"></div>
                            </div>

                            <!-- Register-only fields -->
                            <div id="register-fields" class="hidden space-y-4">
                                <!-- Display Name Field -->
                                <div class="relative">
                                    <label for="displayName" class="block text-sm font-medium text-gray-300 mb-2">
                                        Display Name
                                    </label>
                                    <div class="relative">
                                        <input id="displayName" name="displayName" type="text" 
                                               class="appearance-none relative block w-full px-3 py-3 border border-white/20 bg-white/10 backdrop-blur-sm text-white rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-neon-green focus:border-transparent transition-all duration-300 hover:bg-white/15"
                                               placeholder="Choose a display name">
                                        <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                            <span class="text-neon-green opacity-70">�</span>
                                        </div>
                                    </div>
                                    <div id="displayName-error" class="hidden text-red-400 text-xs mt-1"></div>
                                </div>

                                <!-- Confirm Password Field -->
                                <div class="relative">
                                    <label for="confirmPassword" class="block text-sm font-medium text-gray-300 mb-2">
                                        Confirm Password
                                    </label>
                                    <div class="relative">
                                        <input id="confirmPassword" name="confirmPassword" type="password" 
                                               class="appearance-none relative block w-full px-3 py-3 border border-white/20 bg-white/10 backdrop-blur-sm text-white rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-neon-pink focus:border-transparent transition-all duration-300 hover:bg-white/15"
                                               placeholder="Confirm your password">
                                        <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                            <span class="text-neon-pink opacity-70">🔐</span>
                                        </div>
                                    </div>
                                    <div id="confirmPassword-error" class="hidden text-red-400 text-xs mt-1"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Error & Success Messages -->
                        <div id="error-message" class="hidden bg-red-900/50 border border-red-500 text-red-300 px-4 py-3 rounded-lg backdrop-blur-sm">
                            <span id="error-text"></span>
                        </div>

                        <div id="success-message" class="hidden bg-green-900/50 border border-green-500 text-green-300 px-4 py-3 rounded-lg backdrop-blur-sm">
                            <span id="success-text"></span>
                        </div>

                        <!-- Submit Button -->
                        <div>
                            <button type="submit" id="submit-btn"
                                    class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-neon-blue via-game-primary to-neon-purple hover:from-neon-purple hover:to-neon-pink focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-neon-blue transition-all duration-500 transform hover:scale-105 hover:shadow-xl hover:shadow-neon-purple/50 disabled:opacity-50 disabled:cursor-not-allowed">
                                <span class="absolute left-0 inset-y-0 flex items-center pl-3">
                                    <span class="text-white group-hover:text-white transition-colors duration-300" id="submit-icon">
                                        🚀
                                    </span>
                                </span>
                                <span id="submit-text">Sign In</span>
                            </button>
                        </div>

                        <!-- Toggle Between Login/Register -->
                        <div class="text-center">
                            <p class="text-sm text-gray-300">
                                <span id="toggle-text">Don't have an account?</span>
                                <button type="button" id="toggle-form" 
                                        class="font-medium text-neon-pink hover:text-neon-blue transition-colors duration-300 ml-1 underline">
                                    Create one
                                </button>
                            </p>
                        </div>
                    </form>

                    <!-- Social Login Options -->
                    <div class="mt-6">
                        <div class="relative">
                            <div class="absolute inset-0 flex items-center">
                                <div class="w-full border-t border-gray-600"></div>
                            </div>
                            <div class="relative flex justify-center text-sm">
                                <span class="px-2 bg-black/40 text-gray-400">Or continue with</span>
                            </div>
                        </div>

                        <div class="mt-6 grid grid-cols-2 gap-3">
                            <button id="google-signin" type="button"
                                    class="w-full inline-flex justify-center py-2 px-4 border border-white/20 rounded-lg shadow-sm bg-white/10 backdrop-blur-sm text-sm font-medium text-gray-300 hover:text-white hover:border-neon-blue hover:bg-white/15 transition-all duration-300">
                                <span class="mr-2">🔗</span>
                                Google
                            </button>

                            <button id="guest-signin" type="button"
                                    class="w-full inline-flex justify-center py-2 px-4 border border-white/20 rounded-lg shadow-sm bg-white/10 backdrop-blur-sm text-sm font-medium text-gray-300 hover:text-white hover:border-neon-purple hover:bg-white/15 transition-all duration-300">
                                <span class="mr-2">👤</span>
                                Guest
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="hidden fixed inset-0 z-50 overflow-y-auto">
        <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-black/70 backdrop-blur-sm transition-opacity"></div>
            <div class="inline-block align-bottom bg-black/80 backdrop-blur-xl rounded-2xl border border-white/20 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
                <div class="px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="sm:flex sm:items-start">
                        <div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-gradient-to-r from-neon-green to-emerald-500 sm:mx-0 sm:h-10 sm:w-10">
                            <span class="text-white text-xl">✅</span>
                        </div>
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                            <h3 class="text-lg leading-6 font-medium text-white" id="modal-title">
                                Welcome to GameHub!
                            </h3>
                            <div class="mt-2">
                                <p class="text-sm text-gray-300" id="modal-message">
                                    Your account has been created successfully. You can now enjoy all our games!
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-black/20 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                    <button type="button" id="modal-ok" 
                            class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-gradient-to-r from-neon-blue to-neon-purple text-base font-medium text-white hover:from-neon-purple hover:to-neon-pink focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-neon-blue sm:ml-3 sm:w-auto sm:text-sm transition-all duration-300">
                        Continue to Games
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="js/firebase-auth.js"></script>
</body>
</html>
